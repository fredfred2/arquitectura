<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>UserBean1.java</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: Monospaced}
pre {color: #000000; background-color: #ffffff; font-family: Monospaced}
table {color: #000000; background-color: #e9e8e2; font-family: Monospaced}
.comment {color: #969696}
.character {color: #ce7b00}
.keyword-directive {color: #0000e6}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">D:\toUpload\EventExamples\src\java\com\example\beans\UserBean1.java</td></tr></table>
<pre>
<span class="keyword-directive">package</span> com.example.beans;

<span class="keyword-directive">import</span> java.io.Serializable;

<span class="keyword-directive">import</span> javax.faces.application.ConfigurableNavigationHandler;
<span class="keyword-directive">import</span> javax.inject.Named; 
   <span class="comment">// or import javax.faces.bean.ManagedBean;</span>
<span class="keyword-directive">import</span> javax.enterprise.context.SessionScoped; 
   <span class="comment">// or import javax.faces.bean.SessionScoped;</span>
<span class="keyword-directive">import</span> javax.faces.context.FacesContext;
<span class="keyword-directive">import</span> javax.faces.event.AbortProcessingException;
<span class="keyword-directive">import</span> javax.faces.event.ComponentSystemEvent;

@Named(<span class="character">&quot;</span><span class="character">user1</span><span class="character">&quot;</span>) <span class="comment">// or @ManagedBean(name=&quot;user&quot;)</span>
@SessionScoped
<span class="keyword-directive">public</span> <span class="keyword-directive">class</span> UserBean1 <span class="keyword-directive">implements</span> Serializable {
   <span class="keyword-directive">private</span> String name = <span class="character">&quot;&quot;</span>;
   <span class="keyword-directive">private</span> String password;
   <span class="keyword-directive">private</span> <span class="keyword-directive">boolean</span> loggedIn;

   <span class="keyword-directive">public</span> String getName() { <span class="keyword-directive">return</span> name; }
   <span class="keyword-directive">public</span> <span class="keyword-directive">void</span> setName(String newValue) { name = newValue; }

   <span class="keyword-directive">public</span> String getPassword() { <span class="keyword-directive">return</span> password; }
   <span class="keyword-directive">public</span> <span class="keyword-directive">void</span> setPassword(String newValue) { password = newValue; }
   
   <span class="keyword-directive">public</span> <span class="keyword-directive">boolean</span> isLoggedIn() { <span class="keyword-directive">return</span> loggedIn; }
   
   <span class="keyword-directive">public</span> String login()  {
      loggedIn = <span class="keyword-directive">true</span>;
      <span class="keyword-directive">return</span> <span class="character">&quot;</span><span class="character">index_7</span><span class="character">&quot;</span>;
   }
   
   <span class="keyword-directive">public</span> String logout() {
      loggedIn = <span class="keyword-directive">false</span>;
      <span class="keyword-directive">return</span> <span class="character">&quot;</span><span class="character">login</span><span class="character">&quot;</span>;
   }
   
   <span class="keyword-directive">public</span> <span class="keyword-directive">void</span> checkLogin(ComponentSystemEvent event) {      
      <span class="keyword-directive">if</span> (!loggedIn) {
         FacesContext context = FacesContext.getCurrentInstance();
         ConfigurableNavigationHandler handler = (ConfigurableNavigationHandler)
            context.getApplication().getNavigationHandler();
         handler.performNavigation(<span class="character">&quot;</span><span class="character">login</span><span class="character">&quot;</span>);
      }
   }   
}

</pre></body>
</html>
